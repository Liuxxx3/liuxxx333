## Web漏洞演示

* 运行代码httpserver.py（使用python原生的cgi和http.server两个库运行的一个简单的http服务器程序），然后在浏览器中访问 http://127.0.0.1:8080/a.html

<img src="image/1.png" />

* chrome在菜单-更多工具，开发者工具里面，到sources这个tab就看到了服务器向浏览器返回的数据，就是我们的form_html变量

<img src="image/2.png" />

* 下面再访问一个不存在的页面，比如b.html，又会出现那个默认的form。如果这时我们输入

```
<html><body><script>alert('XSS')</script></form></body></html>
```

然后在访问b.html的时候，整个页面被载入 script在浏览器上执行

<img src="image/3.png" />

* 在浏览器中访问http://127.0.0.1:8080/httpserver.py由于服务器没有做任何过滤，只要是存在的文件，就发送给客户端，源代码文件也发送给了客户端。现在黑客可以知道我整个后台的逻辑了。

<img src="image/4.png" />

* 到调试工具的 elements，由于后台只处理名为a的表单项，把input的name改为a，httpserver.py发生变化

<img src="image/5.png" />

<img src="image/6.png" />

## sql注入漏洞

* 下载Django并访问

<img src="image/7.png" />

* 新建一个app

```python
python manage.py startapp edu_admin
```

* 然后用vscode打开工程，然后对edu_admin的models.py文件进行替换
* 之前startapp命令只是创建了app，必须要把app写入到这里，这个app才会被纳入到站点功能中。
* 输入如下命令

```
python .\manage.py makemigrations
python .\manage.py migrate
```

<img src="image/8.png" />

* 然后在mysite目录下执行

```
sqlite3.exe db.sqlite3
```

可以看到数据库内容

<img src="image/9.png" />